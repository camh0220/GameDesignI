[gd_scene load_steps=22 format=3 uid="uid://dtte24j75l6qa"]

[ext_resource type="Script" path="res://plt_world1.gd" id="1_8c7tb"]
[ext_resource type="Script" path="res://plt_player.gd" id="2_s2rql"]
[ext_resource type="Texture2D" uid="uid://b7dg7hieres1a" path="res://icon.svg" id="3_odwx5"]
[ext_resource type="Script" path="res://plt_enemy.gd" id="4_4rise"]
[ext_resource type="Texture2D" uid="uid://nwgyiwl1ncj2" path="res://assets/sprites/characters.png" id="4_nown3"]

[sub_resource type="SegmentShape2D" id="SegmentShape2D_2eqpb"]
a = Vector2(326, 0)
b = Vector2(-5, -3)

[sub_resource type="PlaceholderTexture2D" id="PlaceholderTexture2D_4o552"]

[sub_resource type="AtlasTexture" id="AtlasTexture_2ddrc"]
atlas = ExtResource("4_nown3")
region = Rect2(96, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_78142"]
atlas = ExtResource("4_nown3")
region = Rect2(0, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_6au3y"]
atlas = ExtResource("4_nown3")
region = Rect2(32, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_b4hmr"]
atlas = ExtResource("4_nown3")
region = Rect2(64, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_52svq"]
atlas = ExtResource("4_nown3")
region = Rect2(448, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_fllc0"]
atlas = ExtResource("4_nown3")
region = Rect2(480, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_w4frb"]
atlas = ExtResource("4_nown3")
region = Rect2(512, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_v05kf"]
atlas = ExtResource("4_nown3")
region = Rect2(544, 64, 32, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_vm4ff"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_2ddrc")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_78142")
}, {
"duration": 5.0,
"texture": SubResource("AtlasTexture_6au3y")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_b4hmr")
}],
"loop": true,
"name": &"jump",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_52svq")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_fllc0")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_w4frb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_v05kf")
}],
"loop": true,
"name": &"walk",
"speed": 5.0
}]

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_4d827"]
radius = 15.0
height = 46.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_sw3jb"]
size = Vector2(56, 62)

[sub_resource type="PlaceholderTexture2D" id="PlaceholderTexture2D_4bqpg"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ce0pt"]
size = Vector2(40, 40)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_f6xg7"]
size = Vector2(16, 16)

[node name="plt_world1" type="Node2D"]
script = ExtResource("1_8c7tb")

[node name="world" type="StaticBody2D" parent="."]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="world"]
position = Vector2(-13.22, 14.0053)
scale = Vector2(1.03776, 1.03378)
polygon = PackedVector2Array(32, 133, -143.367, 710.979, 1380.11, 733.228, 1095, 42, 976, 35, 945, 462, 864, 327, 756, 313, 707, 435, 604, 376, 536, 453, 473, 329, 393, 482, 303, 351, 303, 230, 404, 167, 473, 322, 393, 477, 231, 476, 207, 401, 3.10283, 640.365)

[node name="Polygon2D" type="Polygon2D" parent="world/CollisionPolygon2D"]

[node name="startplatform" type="StaticBody2D" parent="."]
position = Vector2(189, 149)

[node name="CollisionShape2D" type="CollisionShape2D" parent="startplatform"]
position = Vector2(-101, 12)
shape = SubResource("SegmentShape2D_2eqpb")

[node name="Sprite2D" type="Sprite2D" parent="startplatform/CollisionShape2D"]
position = Vector2(163.566, -1)
scale = Vector2(-326.133, -1)
texture = SubResource("PlaceholderTexture2D_4o552")

[node name="plt_player" type="CharacterBody2D" parent="."]
script = ExtResource("2_s2rql")

[node name="Sprite2D" type="Sprite2D" parent="plt_player"]
visible = false
position = Vector2(232, 72)
scale = Vector2(0.25, 0.375)
texture = ExtResource("3_odwx5")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="plt_player"]
texture_filter = 1
position = Vector2(229, 127)
scale = Vector2(1.3125, 1.84375)
sprite_frames = SubResource("SpriteFrames_vm4ff")
animation = &"jump"
frame = 2
frame_progress = 0.103507

[node name="CollisionShape2D" type="CollisionShape2D" parent="plt_player"]
position = Vector2(229, 134)
shape = SubResource("CapsuleShape2D_4d827")

[node name="Camera2D" type="Camera2D" parent="plt_player"]
position = Vector2(232, 69)
zoom = Vector2(3, 3)

[node name="RigidBody2D" type="RigidBody2D" parent="."]
position = Vector2(705, 191)
freeze = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="RigidBody2D"]
position = Vector2(17, -22)
shape = SubResource("RectangleShape2D_sw3jb")

[node name="Sprite2D" type="Sprite2D" parent="RigidBody2D"]
position = Vector2(17.5, -21.5)
scale = Vector2(59, 65)
texture = SubResource("PlaceholderTexture2D_4bqpg")

[node name="draggable" type="RigidBody2D" parent="."]
position = Vector2(545, 239)
freeze = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="draggable"]
position = Vector2(20, 20)
shape = SubResource("RectangleShape2D_ce0pt")

[node name="ColorRect" type="ColorRect" parent="draggable"]
offset_right = 40.0
offset_bottom = 40.0
color = Color(0.807843, 0.956863, 0.517647, 1)

[node name="Button" type="Button" parent="draggable/ColorRect"]
modulate = Color(1, 1, 1, 0)
layout_mode = 0
offset_left = -5.0
offset_top = -6.0
offset_right = 47.0
offset_bottom = 44.0
focus_mode = 0

[node name="plt_enemy" type="RigidBody2D" parent="."]
position = Vector2(831, 336)
max_contacts_reported = 1
contact_monitor = true
script = ExtResource("4_4rise")

[node name="Sprite2D" type="Sprite2D" parent="plt_enemy"]
modulate = Color(1, 0, 0, 1)
position = Vector2(-108, -207)
scale = Vector2(0.125, 0.125)
texture = ExtResource("3_odwx5")

[node name="CollisionShape2D" type="CollisionShape2D" parent="plt_enemy"]
position = Vector2(-108, -207)
shape = SubResource("RectangleShape2D_f6xg7")

[node name="Timer" type="Timer" parent="plt_enemy"]

[connection signal="mouse_entered" from="RigidBody2D" to="." method="_on_rigid_body_2d_mouse_entered"]
[connection signal="button_down" from="draggable/ColorRect/Button" to="." method="_on_button_button_down"]
[connection signal="button_up" from="draggable/ColorRect/Button" to="." method="_on_button_button_up"]
[connection signal="body_entered" from="plt_enemy" to="plt_enemy" method="_on_body_entered"]
[connection signal="timeout" from="plt_enemy/Timer" to="plt_enemy" method="_on_timer_timeout"]
